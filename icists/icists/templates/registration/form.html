{% extends "registration/base.html" %}

{% block htitle %}ICISTS-KAIST 2015 Application Form{% endblock %}

{% block header %}
<link rel="stylesheet" type="text/css" href="{{ MEDIA_URL }}css/registration.css">
<link rel="stylesheet" type="text/css" href="https://code.jquery.com/ui/1.11.3/themes/smoothness/jquery-ui.css">
<script src="https://code.jquery.com/ui/1.11.3/jquery-ui.min.js"> </script>
{% endblock %}

{% block content %}
<h1>ICISTS-KAIST 2015 Application Form</h1>
<form class="form-horizontal" action="/registration/form/" method="post" enctype="multipart/form-data">
    <fieldset>
        {% csrf_token %}


        <div class="form-group">
            <label class="col-sm-3 control-label">Group Name</label>
            <div class="col-sm-9">
                <input type="text" class="form-control" name="group_name" placeholder="junwoo_and_friends" required="required" maxlength="100">
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-12 control-label">
            If you are applying as a group, please specify the name of your group here. <br> If not, leave it as blank.<br> <br> <br> <br> 
            </label>
        </div>

        <div class="form-group">
            <label class="col-sm-3 control-label">Project Topic</label>
            <div class="col-sm-9">
                <select class="form-control" name="project_topic" required="required">
                <option>1. Robotics </option>
                <option>2. Medicine </option>
                <option>3. Science Communication </option>
                </select>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-12 control-label">
            <br>
            <br>
            <br>
1. Essay Question!
            <br>
2. Essay Question!
            <br>
3. Essay Question!
            </label>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label">Essay Topic</label>
            <div class="col-sm-9">
                <select class="form-control" name="essay_topic" required="required">
                <option>1. Robotics</option>
                <option>2. Medicine</option>
                <option>3. Science Communication </option>
                </select>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-12 control-label">
            Your essay topic does not necessarily have to match with your project topic.
            </label>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label">Essay</label>
            <div class="col-sm-9">
                <textarea class="form-control" id='essay_textarea' rows="40" name="essay_text" placeholder="Your eligibility for participation will be determined based on this essay. Write your essay here. " required="required" maxlength="2000" resize=False></textarea>
            </div>
            <div id="result" class="col-sm-12 control-label">
                Words used : <span id='word_count'>0</span><br/>
                Total Characters : <span id='total_chars'>0</span><br/>
            </div>

        </div>

        <div class="form-group">
            <label class="col-sm-3 control-label">Visa Supporting Letter Required</label>
            <div class="col-sm-3">
                <label class="radio-inline">
                    <input type="radio" id="visa-options" name="visa_letter_required" value="yes">Yes
                </label>
                <label class="radio-inline">
                    <input type="radio" id="visa-options" name="visa_letter_required" value="no" checked="checked">No
                </label>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label">Applying for Financial Aid</label>
            <div class="col-sm-3">
                <label class="radio-inline">
                    <input type="radio" id="f_aid-options" name="financial_aid" value="yes">Yes
                </label>
                <label class="radio-inline">
                    <input type="radio" id="f_aid-options" name="financial_aid" value="no" checked="checked">No
                </label>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label">Previous Participation in ICISTS-KAIST</label>
            <div class="col-sm-3">
                <label class="radio-inline">
                    <input type="radio" id="f_aid-options" name="previously_participated" value="yes">Yes
                </label>
                <label class="radio-inline">
                    <input type="radio" id="f_aid-options" name="previously_participated" value="no" checked="checked">No
                </label>
            </div>
        </div>


        <div class="form-group">
            <div class="col-sm-12">
                <button type="submit" class="btn btn-primary">Save</button>
                <a class="btn btn-warning" href="/registration/">Back</a>
            </div>
        </div>
    </fieldset>
</form>

<script type="text/javascript">
counter = function() {
    var value = $('#essay_textarea').val();

    if (value.length == 0) {
        $('#word_count').html(0);
        $('#total_chars').html(0);
        return;
    }

    var regex = /\s+/gi;
    var word_count = value.trim().replace(regex, ' ').split(' ').length;
    var total_chars = value.length;

    $('#word_count').html(word_count);
    $('#total_chars').html(total_chars);
};

$(document).ready(function() {
    $('#essay_textarea').change(counter);
    $('#essay_textarea').keydown(counter);
    $('#essay_textarea').keypress(counter);
    $('#essay_textarea').keyup(counter);
    $('#essay_textarea').blur(counter);
    $('#essay_textarea').focus(counter);
});
</script>
{% endblock %}
